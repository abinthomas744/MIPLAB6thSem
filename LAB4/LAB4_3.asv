i=imread('grayscale.jpg');
info=imfinfo('grayscale.jpg');
w=info.Width;
h=info.Height;
b=info.BitDepth;
p=((2^b)-1);

for a=(0:h)
    for b=(0:w)
        for c=(0:p)
            if i(a,b)==c
            i(p)=i(p)+1;
            end
        end
    end
end

          